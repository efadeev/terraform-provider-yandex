// Code generated by tfgen. DO NOT EDIT.

package yandex_resourcemanager_folder

import (
	"context"
	"time"

	"github.com/hashicorp/terraform-plugin-framework-timeouts/resource/timeouts"
	"github.com/hashicorp/terraform-plugin-framework/attr"
	"github.com/hashicorp/terraform-plugin-framework/diag"
	"github.com/hashicorp/terraform-plugin-framework/types"
	resourcemanager "github.com/yandex-cloud/go-genproto/yandex/cloud/resourcemanager/v1"
)

type yandexResourcemanagerFolderDatasourceModel struct {
	CloudId     types.String   `tfsdk:"cloud_id"`
	CreatedAt   types.String   `tfsdk:"created_at"`
	Description types.String   `tfsdk:"description"`
	FolderId    types.String   `tfsdk:"folder_id"`
	ID          types.String   `tfsdk:"id"`
	Labels      types.Map      `tfsdk:"labels"`
	Name        types.String   `tfsdk:"name"`
	Status      types.String   `tfsdk:"status"`
	Timeouts    timeouts.Value `tfsdk:"timeouts"`
}

var yandexResourcemanagerFolderDatasourceModelType = types.ObjectType{
	AttrTypes: map[string]attr.Type{
		"cloud_id":    types.StringType,
		"created_at":  types.StringType,
		"description": types.StringType,
		"folder_id":   types.StringType,
		"id":          types.StringType,
		"labels":      types.MapType{ElemType: types.StringType},
		"name":        types.StringType,
		"status":      types.StringType,
		"timeouts":    timeouts.AttributesAll(context.Background()).GetType(),
	},
}

func flattenYandexResourcemanagerFolderDatasource(ctx context.Context,
	yandexResourcemanagerFolderDatasource *resourcemanager.Folder,
	state yandexResourcemanagerFolderDatasourceModel,
	to timeouts.Value,
	diags *diag.Diagnostics) types.Object {
	if yandexResourcemanagerFolderDatasource == nil {
		return types.ObjectNull(yandexResourcemanagerFolderDatasourceModelType.AttrTypes)
	}
	value, diag := types.ObjectValueFrom(ctx, yandexResourcemanagerFolderDatasourceModelType.AttrTypes, yandexResourcemanagerFolderDatasourceModel{
		CloudId:     types.StringValue(yandexResourcemanagerFolderDatasource.GetCloudId()),
		CreatedAt:   types.StringValue(yandexResourcemanagerFolderDatasource.GetCreatedAt().AsTime().Format(time.RFC3339)),
		Description: types.StringValue(yandexResourcemanagerFolderDatasource.GetDescription()),
		FolderId:    types.StringValue(yandexResourcemanagerFolderDatasource.GetId()),
		ID:          types.StringValue(yandexResourcemanagerFolderDatasource.GetId()),
		Labels:      flattenYandexResourcemanagerFolderLabels(ctx, yandexResourcemanagerFolderDatasource.GetLabels(), diags),
		Name:        types.StringValue(yandexResourcemanagerFolderDatasource.GetName()),
		Status:      types.StringValue(yandexResourcemanagerFolderDatasource.GetStatus().String()),
		Timeouts:    to,
	})
	diags.Append(diag...)
	return value
}
